<!--<script src="yandex_task1-2025-02-23.ts"></script>-->

<!--<script>-->
<!--  export const getCompressedString = (text) => {-->

<!--    const words = text.toLowerCase().match(/\b\w+\b/g) || [];-->

<!--    const wordFrequency = {};-->
<!--    const wordFirstAppearance = {};-->
<!--    let index = 0;-->

<!--    words.forEach((word, i) => {-->
<!--      wordFrequency[word] = (wordFrequency[word] || 0) + 1;-->
<!--      if (!(word in wordFirstAppearance)) {-->
<!--        wordFirstAppearance[word] = index++;-->
<!--      }-->
<!--    });-->

<!--    const sortedWords = Object.keys(wordFrequency).sort((a, b) => {-->
<!--      if (wordFrequency[b] !== wordFrequency[a]) {-->
<!--        return wordFrequency[b] - wordFrequency[a]; // Сортировка по частоте-->
<!--      }-->
<!--      return wordFirstAppearance[a] - wordFirstAppearance[b]; // Сортировка по первому появлению-->
<!--    });-->

<!--    const wordToIndex = {};-->
<!--    sortedWords.forEach((word, idx) => {-->
<!--      wordToIndex[word] = idx + 1; // Индексация с 1-->
<!--    });-->

<!--    let result = '';-->
<!--    let wordBuffer = '';-->
<!--    let i = 0;-->

<!--    while (i < text.length) {-->
<!--      if (/\w/.test(text[i])) {-->
<!--        wordBuffer += text[i].toLowerCase();-->
<!--      } else {-->
<!--        if (wordBuffer) {-->
<!--          result += wordToIndex[wordBuffer];-->
<!--          wordBuffer = '';-->
<!--        }-->
<!--        result += text[i];-->
<!--      }-->
<!--      i++;-->
<!--    }-->

<!--    if (wordBuffer) {-->
<!--      result += wordToIndex[wordBuffer];-->
<!--    }-->

<!--    return result;-->
<!--  }-->

<!--  const text1 = "Hello my name is Vitaliy! And what is your name?"-->
<!--  console.log(getCompressedString(text1));-->

<!--</script>-->
